<div class="highlight"><pre><span class="n">authorize_url</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="o">&lt;</span><span class="n">a</span> <span class="n">href</span><span class="o">=</span><span class="s">&quot;http://www.flickr.com/services/oauth/authorize&quot;</span><span class="o">&gt;</span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">www</span><span class="o">.</span><span class="n">flickr</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">services</span><span class="o">/</span><span class="n">oauth</span><span class="o">/</span><span class="n">authorize</span><span class="o">&lt;/</span><span class="n">a</span><span class="o">&gt;&amp;</span><span class="n">quot</span><span class="p">;</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>

<span class="o">&lt;</span><span class="n">h1</span> <span class="nb">id</span><span class="o">=</span><span class="s">&quot;toc_35&quot;</span><span class="o">&gt;</span><span class="n">parse</span> <span class="n">the</span> <span class="n">content</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>

<span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="n">request_token</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">urlparse</span><span class="o">.</span><span class="n">parse_qsl</span><span class="p">(</span><span class="n">content</span><span class="p">))</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>

<span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="k">print</span> <span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">Request</span> <span class="n">Token</span><span class="p">:</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span>
<span class="k">print</span> <span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span>    <span class="o">-</span> <span class="n">oauth_token</span>        <span class="o">=</span> <span class="o">%</span><span class="n">s</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span> <span class="o">%</span> <span class="n">request_token</span><span class="p">[</span><span class="o">&amp;</span><span class="c">#39;oauth_token&amp;#39;]</span>
<span class="k">print</span> <span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span>    <span class="o">-</span> <span class="n">oauth_token_secret</span> <span class="o">=</span> <span class="o">%</span><span class="n">s</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span> <span class="o">%</span> <span class="n">request_token</span><span class="p">[</span><span class="o">&amp;</span><span class="c">#39;oauth_token_secret&amp;#39;]</span>
<span class="k">print</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>

<span class="o">&lt;</span><span class="n">h1</span> <span class="nb">id</span><span class="o">=</span><span class="s">&quot;toc_36&quot;</span><span class="o">&gt;</span><span class="n">Create</span> <span class="n">the</span> <span class="n">token</span> <span class="nb">object</span> <span class="k">with</span> <span class="n">returned</span> <span class="n">oauth_token</span> <span class="ow">and</span> <span class="n">oauth_token_secret</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>

<span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="n">token</span> <span class="o">=</span> <span class="n">oauth</span><span class="o">.</span><span class="n">Token</span><span class="p">(</span><span class="n">request_token</span><span class="p">[</span><span class="o">&amp;</span><span class="c">#39;oauth_token&amp;#39;],</span>
    <span class="n">request_token</span><span class="p">[</span><span class="o">&amp;</span><span class="c">#39;oauth_token_secret&amp;#39;])&lt;/p&gt;</span>

<span class="o">&lt;</span><span class="n">h1</span> <span class="nb">id</span><span class="o">=</span><span class="s">&quot;toc_37&quot;</span><span class="o">&gt;</span><span class="n">You</span> <span class="n">need</span> <span class="n">to</span> <span class="n">authorize</span> <span class="n">this</span> <span class="n">app</span> <span class="n">via</span> <span class="n">your</span> <span class="n">browser</span><span class="o">.&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>

<span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="k">print</span> <span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="n">Go</span> <span class="n">to</span> <span class="n">the</span> <span class="n">following</span> <span class="n">link</span> <span class="ow">in</span> <span class="n">your</span> <span class="n">browser</span><span class="p">:</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span>
<span class="k">print</span> <span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span><span class="o">%</span><span class="n">s</span><span class="err">?</span><span class="n">oauth_token</span><span class="o">=%</span><span class="n">s</span><span class="o">&amp;</span><span class="n">amp</span><span class="p">;</span><span class="n">perms</span><span class="o">=</span><span class="n">read</span><span class="o">&amp;</span><span class="n">quot</span><span class="p">;</span> <span class="o">%</span>
    <span class="p">(</span><span class="n">authorize_url</span><span class="p">,</span> <span class="n">request_token</span><span class="p">[</span><span class="o">&amp;</span><span class="c">#39;oauth_token&amp;#39;])</span>
<span class="k">print</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>

<span class="o">&lt;</span><span class="n">h1</span> <span class="nb">id</span><span class="o">=</span><span class="s">&quot;toc_38&quot;</span><span class="o">&gt;</span><span class="n">Once</span> <span class="n">you</span> <span class="n">get</span> <span class="n">the</span> <span class="n">verified</span> <span class="n">pin</span><span class="p">,</span> <span class="nb">input</span> <span class="n">it</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>

<span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="n">accepted</span> <span class="o">=</span> <span class="o">&amp;</span><span class="c">#39;n&amp;#39;</span>
<span class="k">while</span> <span class="n">accepted</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="o">&amp;</span><span class="c">#39;n&amp;#39;:</span>
    <span class="n">accepted</span> <span class="o">=</span> <span class="nb">raw_input</span><span class="p">(</span><span class="o">&amp;</span><span class="c">#39;Have you authorized me? (y/n) &amp;#39;)</span>
<span class="n">oauth_verifier</span> <span class="o">=</span> <span class="nb">raw_input</span><span class="p">(</span><span class="o">&amp;</span><span class="c">#39;What is the PIN? &amp;#39;)&lt;/p&gt;</span>

<span class="o">&lt;</span><span class="n">h1</span> <span class="nb">id</span><span class="o">=</span><span class="s">&quot;toc_39&quot;</span><span class="o">&gt;</span><span class="nb">set</span> <span class="n">the</span> <span class="n">oauth_verifier</span> <span class="n">token</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>

<span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="n">token</span><span class="o">.</span><span class="n">set_verifier</span><span class="p">(</span><span class="n">oauth_verifier</span><span class="p">)</span>
</pre></div>